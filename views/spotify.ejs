<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SatzzDev Tools Dashboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>
<body class="bg-gray-900 text-gray-200">

<!-- Navigation Bar -->
<nav class="bg-gray-800 shadow-md w-full fixed top-0 z-10">
<div class="container mx-auto px-6 py-4 flex justify-between items-center">
<div class="flex items-center space-x-4">
<img src="images/logo.png" alt="SatzzDev Logo" class="h-10 w-10">
<span class="text-xl font-bold text-blue-400">SatzzDev</span>
</div>

<!-- Hamburger Button for Mobile -->
<div class="lg:hidden flex items-center">
<button id="menu-toggle" class="text-gray-200 focus:outline-none">
<i class="uil uil-bars text-2xl"></i>
</button>
</div>

<!-- Navigation Links -->
<ul id="nav-menu" class="hidden lg:flex space-x-6">
      <li><a href="/" class="hover:text-blue-300 flex items-center"><i class="uil uil-estate mr-2"></i>Home</a></li>
      <li><a href="/spotify" class="hover:text-blue-300 flex items-center"><i class="uil uil-music mr-2"></i>Spotify</a></li>
      <li><a href="/gempa" class="hover:text-blue-300 flex items-center"><i class="uil uil-cloud-showers-heavy mr-2"></i>Info Gempa</a></li>
      <li><a href="/jadwal-sholat" class="hover:text-blue-300 flex items-center"><i class="uil uil-schedule mr-2"></i>Jadwal Sholat</a></li>
</ul>
</div>

<!-- Mobile Menu -->
<ul id="mobile-menu" class="lg:hidden hidden flex-col space-y-4 p-4 bg-gray-800 text-center">
      <li><a href="/" class="hover:text-blue-300 flex items-center"><i class="uil uil-estate mr-2"></i>Home</a></li>
      <li><a href="/spotify" class="hover:text-blue-300 flex items-center"><i class="uil uil-music mr-2"></i>Spotify</a></li>
      <li><a href="/gempa" class="hover:text-blue-300 flex items-center"><i class="uil uil-cloud-showers-heavy mr-2"></i>Info Gempa</a></li>
      <li><a href="/jadwal-sholat" class="hover:text-blue-300 flex items-center"><i class="uil uil-schedule mr-2"></i>Jadwal Sholat</a></li>
</ul>
</nav>

<div id="app">
<!-- Dashboard Section -->
<section class="pt-24 px-6">
<div class="container mx-auto">
<div class="bg-gray-800 shadow-lg rounded-lg p-6">
<!-- Search Section -->
<div class="mb-6 flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2">
<input v-model="query" type="text" placeholder="Search here..." 
class="w-full md:flex-grow bg-gray-700 text-gray-300 border border-gray-600 p-3 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
<button @click="searchSongs" 
class="w-full md:w-auto bg-blue-500 text-white px-6 py-3 rounded-md hover:bg-blue-600">
Search
</button>
</div>


<!-- Results Section -->
<div v-if="songs.length" class="space-y-4">
<div v-for="song in songs" :key="song.judul" class="flex items-center bg-gray-700 p-4 rounded-lg shadow-md">
<img :src="song.gambar_kecil[0].url" alt="Song" class="h-16 w-16 rounded-lg object-cover mr-4">
<div class="flex-grow">
<h3 class="text-lg font-semibold">{{ song.judul }}</h3>
<p class="text-gray-400">{{ song.nama_channel }}</p>
</div>
<a :href="song.url_audio_v1" class="text-green-400 hover:text-green-300 text-xl">
<i class="uil uil-arrow-circle-down"></i>
</a>
</div>
</div>
<p v-else class="text-gray-400 text-center">No results found. Start by searching for a song!</p>
</div>
</div>
</section>
</div>
<!-- Vue.js Logic -->
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script>
<script>
document.getElementById('menu-toggle').addEventListener('click', () => {
const menu = document.getElementById('mobile-menu');
menu.classList.toggle('hidden');
});
new Vue({
el: '#app',
data: { query: '', songs: [] },
methods: {
async searchSongs() {
if (!this.query.trim()) return;
this.songs = []; // Clear previous results

try {
const response = await fetch(`https://api.agatz.xyz/api/spotify?message=${encodeURIComponent(this.query)}`);
const data = await response.json();

for (const song of data.data) {
const songDetails = await fetch(`https://api.agatz.xyz/api/spotifydl?url=${encodeURIComponent(song.externalUrl)}`);
const songData = await songDetails.json();
this.songs.push(JSON.parse(songData.data)); // Parsing nested data
}
} catch (error) {
console.error('Error fetching data:', error);
}
},
}
});
</script>
</body>
</html>
